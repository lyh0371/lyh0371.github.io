(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{152:function(t,s,a){"use strict";a.r(s);var e=a(0),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"tcp-udp-报文格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-udp-报文格式"}},[t._v("#")]),t._v(" TCP/UDP 报文格式")]),t._v(" "),a("p",[t._v("它在实际要传输的数据之前附加了一个 20 字节\n的 "),a("strong",[t._v("头部数据")]),t._v("，存储 TCP 协议必须的额外信息，例如发送方的端口号、接收方的端口号、包序号、标志位等\n等。\n有了这个附加的 TCP 头，数据包才能够正确传输，到了目的地后把头部去掉，就可以拿到真正的数据")]),t._v(" "),a("p",[a("img",{attrs:{src:"/imgs/tcp.png",alt:"tcp"}})]),t._v(" "),a("h2",{attrs:{id:"http-报文"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-报文"}},[t._v("#")]),t._v(" HTTP 报文")]),t._v(" "),a("p",[t._v("HTTP 协议也是与 TCP/UDP 类似，同样也需要在实际传输的数据前附加一些头数据，不过与 TCP/UDP 不同的\n是，它是一个 "),a("strong",[t._v("“纯文本”")]),t._v(" 的协议，所以头数据都是 ASCII 码的文本，可以很容易地用肉眼阅读，不用借助程序解析也能够看懂。\n"),a("br")]),t._v(" "),a("p",[a("strong",[t._v("HTTP 协议的请求报文和响应报文的结构基本相同，由三大部分组成")])]),t._v(" "),a("h3",{attrs:{id:"_1-起始行（start-line）：描述请求或响应的基本信息；"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-起始行（start-line）：描述请求或响应的基本信息；"}},[t._v("#")]),t._v(" 1.起始行（start line）：描述请求或响应的基本信息；")]),t._v(" "),a("p",[t._v("请求行由三部分构成")]),t._v(" "),a("ol",[a("li",[t._v("请求方法：是一个动词，如 GET/POST，表示对资源的操作；")]),t._v(" "),a("li",[t._v("请求目标：通常是一个 URI，标记了请求方法要操作的资源；")]),t._v(" "),a("li",[t._v("版本号：表示报文使用的 HTTP 协议版本")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HTTP")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("对应于相应报文的状态行为：")]),t._v(" "),a("ol",[a("li",[t._v("版本号：表示报文使用的 HTTP 协议版本；")]),t._v(" "),a("li",[t._v("状态码：一个三位数，用代码的形式表示处理的结果，比如 200 是成功，500 是服务器错误；")]),t._v(" "),a("li",[t._v("原因：作为数字状态码补充，是更详细的解释文字，帮助人理解原因")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HTTP")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("OK")]),t._v("\n")])])]),a("h3",{attrs:{id:"_2-头部字段集合（header）：使用-key-value-形式更详细地说明报文；"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-头部字段集合（header）：使用-key-value-形式更详细地说明报文；"}},[t._v("#")]),t._v(" 2.头部字段集合（header）：使用 key-value 形式更详细地说明报文；")]),t._v(" "),a("p",[t._v("头部字段是 key-value 的形式，key 和 value 之间用“:”分隔，最后用 CRLF 换行表示字段结束。比如在“Host:\n127.0.0.1”这一行里 key 就是“Host”，value 就是“127.0.0.1”。\nHTTP 头字段非常灵活，不仅可以使用标准里的 Host、Connection 等已有头，也可以任意添加自定义头，这\n就给 HTTP 协议带来了无限的扩展可能。\n不过使用头字段需要注意下面几点：")]),t._v(" "),a("ol",[a("li",[t._v("字段名不区分大小写，例如“Host”也可以写成“host”，但首字母大写的可读性更好；")]),t._v(" "),a("li",[t._v("字段名里不允许出现空格，可以使用连字符“-”，但不能使用下划线“_”。例如，“test-name”是合\n法的字段名，而“test name”“test_name”是不正确的字段名；")]),t._v(" "),a("li",[t._v("字段名后面必须紧接着“:”，不能有空格，而“:”后的字段值前可以有多个空格；")]),t._v(" "),a("li",[t._v("字段的顺序是没有意义的，可以任意排列不影响语义；")]),t._v(" "),a("li",[t._v("字段原则上不能重复，除非这个字段本身的语义允许，例如 Set-Cookie。")])]),t._v(" "),a("h4",{attrs:{id:"常用头信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用头信息"}},[t._v("#")]),t._v(" 常用头信息")]),t._v(" "),a("ol",[a("li",[t._v("Host：它属于请求字段，只能出现在请求头里，它同时也是唯一一个 HTTP/1.1 规范里要\n求必须出现的字段。Host 字段告诉服务器这个请求应该由哪个主机来处理")]),t._v(" "),a("li",[t._v("User-Agent 是请求字段，只出现在请求头里。它使用一个字符串来描述发起 HTTP 请求的客户端，服务器可\n以依据它来返回最合适此浏览器显示的页面")]),t._v(" "),a("li",[t._v("Datee 字段是一个通用字段，但通常出现在响应头里，表示 HTTP 报文创建的时间，客户端可以使用这个时间再搭配其他字段决定缓存策略")])]),t._v(" "),a("h3",{attrs:{id:"_3-消息正文（entity）：实际传输的数据，它不一定是纯文本，可以是图片、视频等二进制数据。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-消息正文（entity）：实际传输的数据，它不一定是纯文本，可以是图片、视频等二进制数据。"}},[t._v("#")]),t._v(" 3.消息正文（entity）：实际传输的数据，它不一定是纯文本，可以是图片、视频等二进制数据。")])])}),[],!1,null,null,null);s.default=r.exports}}]);