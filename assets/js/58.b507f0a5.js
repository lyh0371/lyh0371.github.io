(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{153:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"nginx-基本使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-基本使用"}},[s._v("#")]),s._v(" nginx 基本使用")]),s._v(" "),a("p",[s._v("Nginx (engine x) 是一个高性能的 HTTP 和反向代理 web 服务器")]),s._v(" "),a("h2",{attrs:{id:"window-安装-nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#window-安装-nginx"}},[s._v("#")]),s._v(" window 安装 nginx")]),s._v(" "),a("p",[s._v("傻瓜式安装, 直接下载官网压缩包,解压到自己电脑即可")]),s._v(" "),a("h3",{attrs:{id:"配置本地服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置本地服务器"}},[s._v("#")]),s._v(" 配置本地服务器")]),s._v(" "),a("p",[s._v("打开解压后的压缩文件 conf 文件夹->nginx.conf 文件\n复制一个 server 配置一个本地域名")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("\nserver "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      listen       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      server_name  lyc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      location "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          proxy_pass   http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("别忘了更改本机的 host 地址为 "),a("code",[s._v("C:\\Windows\\System32\\drivers\\etc\\hosts")]),s._v("末行加入")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("127.0.0.1 lyc.com\n")])])]),a("p",[s._v("关闭保存即可")]),s._v(" "),a("h2",{attrs:{id:"linux-安装-nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-安装-nginx"}},[s._v("#")]),s._v(" linux 安装 nginx")]),s._v(" "),a("ol",[a("li",[s._v("安装依赖\n"),a("code",[s._v("yum -y install gcc zlib zlib-devel pcre-devel openssl openssl-devel")])]),s._v(" "),a("li",[s._v("选择安装文件夹")])]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("cd "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 下载")]),s._v("\nwget http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("download"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.13")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gz\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 解压")]),s._v("\ntar "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("xvf nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.13")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gz\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[a("p",[s._v("进入 nginx 目录"),a("br"),s._v(" "),a("code",[s._v("cd nginx-1.13.7")])])]),s._v(" "),a("li",[a("p",[s._v("执行命令")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("configure\n 如何要配置https 执行 "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("./configure --prefix=/usr/local/nginx --with-http_stub_status_module --with-http_ssl_module")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),s._v(" 安装 "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("with-http_ssl_module")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),s._v("\n make\n make install\n")])])])]),s._v(" "),a("li",[a("p",[s._v("启动 nginx\n"),a("code",[s._v("/usr/local/nginx/sbin/nginx -s reload")]),s._v(" "),a("br"),s._v("\n如果报错 "),a("code",[s._v("nginx: [error] open() ＂/usr/local/nginx/logs/nginx.pid＂ failed")]),a("br"),s._v("\n则运行 "),a("br"),s._v(" "),a("code",[s._v("/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf")])])]),s._v(" "),a("li",[a("p",[s._v("查看是否开启 nginx\n"),a("code",[s._v("ps -ef | grep nginx")])])])]),s._v(" "),a("h2",{attrs:{id:"如何配置-https"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何配置-https"}},[s._v("#")]),s._v(" 如何配置 https")]),s._v(" "),a("ol",[a("li",[s._v("在阿里云申请免费 ssl 证书 "),a("br"),s._v(" 2.下载证书 "),a("br"),s._v(" 3.把下载的证书按照要求配置到服务器上"),a("br")]),s._v(" "),a("li",[s._v("把证书装到 nginx")])]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   listen       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),s._v(" ssl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   server_name  wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("h5love"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n   ssl_certificate     cert"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4036449")]),s._v("_www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("h5love"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("pem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ssl证书地址")]),s._v("\n   ssl_certificate_key  cert"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4036449")]),s._v("_www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("h5love"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//ssl证书地址")]),s._v("\n\n   ssl_session_cache    shared"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SSL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   ssl_session_timeout  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n   ssl_ciphers  "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HIGH")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("aNULL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MD5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   ssl_prefer_server_ciphers  on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n   location "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      root   "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/rootweb'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])])]),a("p",[s._v("重启 nginx")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("nginx -s stop\nnginx -s start\n\n")])])]),a("p",[s._v("如果出现 nginx 命令找不到可以配置环境变量")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("vim /etc/profile 打开 profile\n\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("新增 PATH=$PATH:/usr/local/nginx/sbin\nexport PATH\n")])])]),a("p",[s._v("也可以直接 cd 到/usr/local/nginx/sbin 直接操作")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("cd "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sbin\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s stop\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s start\n\n")])])]),a("p",[s._v("如果发现启动失败需要在加载下 config 文件")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("./nginx -c /usr/local/nginx/conf/nginx.conf\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);